<div class="container title-container">
  <div class="row p-4">
    <div class="col-8 text-white text-left ">
      <span class="fs-3">Criar um bolão</span>
    </div>
    <div class="col-4 text-center">
      <button class="btn btn-info mx-2">Voltar</button>
      <button class="btn btn-success mx-2" (click)="onSubmit()">Criar Bolão</button>
    </div>
  </div>
</div>
<div class="container form-container">
  <form [formGroup]="form" (ngSubmit)="onSubmit()">
    <div class="row">

      <div class="col-8 form-group titulo-form-group texto-escuro">
        <label for="inputTitulo">Titulo</label>
        <input type="text" formControlName="titulo" class="form-control" id="inputTitulo" placeholder="Titulo do bolão">
      </div>

      <div class="col-4 form-group titulo-form-group texto-escuro">
        <label for="flexVisibilidadeBolao">Visibilidade do Bolão</label>
        <div class="row input-visibilidade">
          <div class="col-6">
            <div class="form-check">
              <input class="form-check-input" formControlName="visibilidade" type="radio" id="visibilidadeBolaoPriv" value="1">
              <label class="form-check-label" for="visibilidadeBolaoPriv">
                Privado
              </label>
            </div>
          </div>
          <div class="col-6">
            <div class="form-check">
              <input class="form-check-input" formControlName="visibilidade" type="radio" id="visibilidadeBolaoPub" value="2">
              <label class="form-check-label" for="visibilidadeBolaoPub" >
                Público
              </label>
            </div>
          </div>
        </div>
      </div>

      <div class="col-12 form-group descricao-form-group texto-escuro">
        <label for="inputDescricao">Descricao</label>
        <input type="text" formControlName="descricao" class="form-control" id="inputDescricao" placeholder="Descrição do bolão">
      </div>

      <div class="col-12">
        <label for="inputDescricao">Opções do bolão</label>
        <div formArrayName="opcoes">
          <div *ngFor="let opcaoControl of opcoesArray.controls; let i = index" class="form-group texto-escuro d-flex align-items-center row">
            <div class="col-10">
              <label [for]="'opcao-' + i">Opção {{ i + 1 }}</label>
              <input [formControlName]="i" [id]="'opcao-' + i" type="text" class="form-control" placeholder="Descrição da opção {{i + 1}}" required>
            </div>
            <div class="col-2 align-items-end h-100">
              <button type="button" class="btn btn-danger btn-sm" (click)="removeOpcao(i)">Remover</button>
            </div>
          </div>
          <div *ngIf="opcoesArray.invalid && (opcoesArray.dirty || opcoesArray.touched)" class="text-danger">
              <div *ngIf="opcoesArray.errors?.['required']">Todas as opções são obrigatórias.</div>
          </div>
        </div>
        <div class="col-12 text-center">
          <button type="button" class="btn btn-success btn-sm mt-2" (click)="addOpcao()">+ Adicionar Opção</button>
        </div>
        <br>
      </div>
    </div>
  </form>
</div>
